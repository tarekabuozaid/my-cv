/* ===== نظام الهولوجرام الكامل ===== */
/* 
* نظام الهولوجرام يتكون من:
* 1. قسم الهولوجرام الرئيسي (holo-hero)
* 2. خلفية الهولوجرام (holo-bg)
* 3. طبقة التراكب/الإضاءة (holo-overlay)
* 4. الحلقة المركزية (holo-ring)
* 5. الأزرار الدائرية (holo-chip)
*/

/* 1. قسم الهولوجرام الرئيسي */
.holo-hero {
  position: relative;
  border-radius: 20px;
  overflow: hidden;
  min-height: 540px;
  height: 75vh;
  margin: 14px 0 18px;
  isolation: isolate;
  box-shadow: 0 25px 80px rgba(0,0,0,.35);
}
  
/* ضبط الهولوجرام على أحجام الشاشات المختلفة */
@media (min-width: 1200px) {
  .holo-hero {
    min-height: 620px; /* ارتفاع أكبر على الشاشات الكبيرة */
  }
}

/* 2. خلفية الهولوجرام */
.holo-hero .holo-bg {
  position: absolute; 
  inset: 0;
  background-image: image-set(
    url("../BIG.avif") type("image/avif"),
    url("../BIG.webp") type("image/webp"),
    url("../BIG.png") type("image/png")
  );
  background-repeat: no-repeat;
  background-size: auto 135%;
  background-position: center center;
  filter: saturate(1.35) contrast(1.2) brightness(1.25);
  transform: translateZ(0) scale(1.05);
  will-change: transform;
  transition: transform 0.5s ease-out;
}

/* نسخة أصغر من الصورة للموبايل لتحسين الأداء */
@media (max-width: 768px) {
  .holo-hero .holo-bg {
    background-image: image-set(
      url("../BIG-mobile.avif") type("image/avif"),
      url("../BIG-mobile.webp") type("image/webp"),
      url("../BIG-mobile.png") type("image/png")
    );
  }
}

/* 3. طبقة التراكب/الإضاءة */
.holo-hero .holo-overlay{
  position: absolute; 
  inset: 0;
  background:
    radial-gradient(120% 120% at 25% 40%, rgba(8,12,20,.45) 0%, rgba(8,12,20,.6) 55%, rgba(8,12,20,.65) 100%),
    linear-gradient(115deg, rgba(34,211,238,.25), rgba(124,58,237,.2));
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.85;
}

/* 4. الحلقة المركزية */
.holo-ring {
  position: absolute; 
  left: 50%; 
  top: 50%; 
  translate: -50% -50%;
  width: min(70vw, 550px);
  aspect-ratio: 1/1;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,.18);
  box-shadow: inset 0 0 120px rgba(34,211,238,.2);
  backdrop-filter: blur(2px);
  animation: ringSpin 18s linear infinite;
  z-index: 1;
}

.holo-ring::after {
  content: ""; 
  position: absolute; 
  inset: 10%;
  border-radius: 50%;
  border: 1px dashed rgba(34,211,238,.35);
  filter: drop-shadow(0 0 8px rgba(34,211,238,.35));
}

.ring-core {
  position: absolute; 
  left: 50%; 
  top: 50%; 
  translate: -50% -50%;
  width: 28%; 
  aspect-ratio: 1;
  border-radius: 50%;
  background: radial-gradient(circle at 50% 45%, rgba(34,211,238,.55), transparent 60%);
  box-shadow: 0 0 24px rgba(34,211,238,.45), inset 0 0 24px rgba(124,58,237,.35);
}

@keyframes ringSpin { 
  to { 
    rotate: 360deg; 
  } 
}

/* 5. الأزرار الدائرية */
.holo-chip {
  --radius: clamp(140px, 32vw, 260px);
  --a: 0deg; /* مخصّص لكل زر بالإنلاين */
  position: absolute; 
  left: 50%; 
  top: 50%;
  translate: -50% -50%;
  transform: rotate(var(--a)) translate(var(--radius)) rotate(calc(var(--a)*-1)) scale(1);
  transform-origin: center;
  z-index: 2;
  display: flex; 
  align-items: center; 
  gap: 8px;
  padding: 10px 12px;
  border-radius: 14px;
  color: #e8f7ff;
  background: linear-gradient(180deg, rgba(34,211,238,.16), rgba(124,58,237,.14));
  border: 1px solid rgba(255,255,255,.18);
  backdrop-filter: blur(6px);
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
  transition: transform .45s cubic-bezier(.22,.61,.36,1),
             box-shadow .3s ease, background .3s ease;
  will-change: transform;
}

.holo-chip i { 
  color: #22d3ee; 
}

.holo-chip:hover { 
  transform: rotate(var(--a)) translate(calc(var(--radius) + 8px)) rotate(calc(var(--a)*-1)) scale(1.05); 
  box-shadow: 0 14px 40px rgba(34,211,238,.32); 
}

.holo-chip:active { 
  transform: rotate(var(--a)) translate(calc(var(--radius) + 2px)) rotate(calc(var(--a)*-1)) scale(.99); 
}

/* حالات ظهور/اختفاء الأزرار الدائرية */
.holo-hero:not(.ready) .holo-chip {
  transform: rotate(var(--a)) translate(0px) rotate(calc(var(--a)*-1)) scale(.72);
  opacity: 0; 
}

.holo-hero.ready .holo-chip {
  transform: rotate(var(--a)) translate(calc(var(--radius))) rotate(calc(var(--a)*-1));
  opacity: 1;
  visibility: visible;
  display: flex;
  transition-delay: calc(var(--a) / 360 * .28s); /* دخول متتابع حسب الزاوية */
}

/* تكيفات للشاشات المختلفة */
/* تأكيد عرض الهولوجرام على جميع الشاشات */
html body .holo-hero, 
body .holo-hero, 
:root .holo-hero { 
  display: block; 
}
html body main section.holo-hero,
body main section.holo-hero { 
  display: block; 
}

@media (max-width: 768px){ 
  /* إظهار الهولوجرام على الموبايل أيضًا */
  html body .holo-hero, 
  body .holo-hero, 
  :root .holo-hero { 
    display: block;
    min-height: 360px; /* ارتفاع أقل للموبايل */
    margin-bottom: 30px; /* زيادة المسافة في الأسفل */
  }
  /* استثناء الهولوجرام من قاعدة إخفاء أقسام main على الموبايل */
  html body main section.holo-hero,
  body main section.holo-hero { 
    display: block; 
  }
  
  /* إعادة ضبط عرض الحلقة على الموبايل */
  html body .holo-ring, 
  body .holo-ring {
    width: min(80vw, 300px);
  }
  
  /* توزيع أفضل للمساحات على الموبايل */
  html body .wrap, 
  body .wrap {
    padding: 12px;
  }
}

@media (max-width: 420px){ 
  .holo-chip{ padding: 10px; }
}

@media (prefers-reduced-motion: reduce){
  .holo-chip, .holo-ring{ animation: none !important; transition: none !important; }
}

/* ===== CSS: تنسيقات الهولوغرام ===== */
/* — Clean Hero — */
.holo-hero{min-height:260px;margin-top:14px;}
.holo-hero .holo-bg{
  filter: brightness(.68) saturate(1.05) contrast(1.05);
}
.holo-hero .holo-overlay{
  background:
    radial-gradient(120% 120% at 25% 40%, rgba(8,12,20,.45) 0%, rgba(8,12,20,.6) 55%, rgba(8,12,20,.65) 100%),
    linear-gradient(115deg, rgba(34,211,238,.25), rgba(124,58,237,.2));
}

/* قلّل البريق والظلّ للـchips وخليها أصغر */
.holo-chip{
  padding: 8px 10px; 
  border-radius: 12px;
  box-shadow: 0 8px 22px rgba(0,0,0,.22);
  background: linear-gradient(180deg, rgba(37, 129, 143, 0.15), rgba(124,58,237,.12));
  display: flex !important; /* ضمان ظهور الأزرار على سطح المكتب */
  opacity: 1 !important; /* ضمان ظهور الأزرار على سطح المكتب */
  visibility: visible !important; /* ضمان ظهور الأزرار على سطح المكتب */
  position: absolute !important; /* ضمان ظهور الأزرار على سطح المكتب */
  z-index: 10 !important; /* ضمان ظهور الأزرار على سطح المكتب */
  border: 1px solid rgba(255,255,255,.25) !important; /* إضافة حدود أكثر وضوحًا */
}
.holo-chip:hover{
  box-shadow: 0 10px 26px rgba(34,211,238,.25);
  background: linear-gradient(180deg, rgba(37, 129, 143, 0.25), rgba(124,58,237,.18));
  border: 1px solid rgba(255,255,255,.35) !important;
}

/* اظهار كل الأزرار على سطح المكتب */
@media (min-width: 901px){
  /* عرض كل الأزرار */
  .holo-chip {
    display: flex !important;
    opacity: 1 !important;
    visibility: visible !important;
  }
}

/* امنع أي تأثير hover ترجيع-سحب يزيد العك مع الـtilt */
.card:hover{ transform: none; }

/* طفي الـMatrix على كل الشاشات (مش بس الموبايل) */
.matrix-bg{ display:none !important; }

/* أيقونات <img> داخل .holo-chip و .icon-btn: ثبّت الحجم لأن SVG ما يتلوّن زي <i> */
.menu-icon, .social-icon, .hint-icon { width:18px; height:18px; filter: drop-shadow(0 0 0 rgba(0,0,0,0)); }

/* تحسين ظهور الأيقونات - إصلاح مشكلة عدم ظهور الأيقونات في بعض المتصفحات */
[class^="fa-"], 
[class*=" fa-"],
.fa, .fas, .fab, .far {
  display: inline-block !important;
  visibility: visible !important;
  opacity: 1 !important;
  font-family: "Font Awesome 6 Free", "Font Awesome 6 Brands" !important;
  font-weight: 400 !important;
  text-align: center !important;
  vertical-align: middle !important;
  line-height: normal !important;
}

/* تصحيح وزن الخط للأيقونات الصلبة */
.fa-solid, .fas {
  font-weight: 900 !important;
}

/* ضبط حجم أيقونات Font Awesome */
.holo-chip i, 
.holo-chip .fab, 
.holo-chip .fas, 
.holo-chip .far { 
  font-size: 18px !important; 
  color: #22d3ee !important; 
  display: inline-block !important;
  visibility: visible !important;
  width: 18px !important; 
  height: 18px !important;
  font-weight: 400 !important;
  text-align: center !important;
  vertical-align: middle !important;
}
.holo-hint i { 
  font-size: 18px !important; 
  width: 18px !important; 
  height: 18px !important;
  display: inline-block !important;
  font-weight: 400 !important;
}

/* ضبط حجم أيقونات Font Awesome على الموبايل */
@media (max-width:768px){
  .icon-btn i{ 
    font-size:18px !important; 
    width:18px !important; 
    height:18px !important;
    display: inline-block !important;
  }
  
  /* Make holo-chips visible on mobile */
  .holo-chip {
    display: flex !important;
    opacity: 1 !important;
    visibility: visible !important;
  }
  
  /* Fix for Font Awesome icons in mobile */
  .fab, .fas, .fa, .far, .fa-brands, .fa-solid {
    font-family: "Font Awesome 6 Free", "Font Awesome 6 Brands" !important;
    display: inline-block !important;
  }
}

/* أخفّي الحلقة على الديسكتوب أو أخفّفها */
@media (min-width:901px){
  .holo-ring{ opacity:.15; filter: blur(1px); }
}

/* فوكس واضح للـchips (تحسين وصول) */
.holo-chip:focus{ outline:2px solid var(--accent-2); outline-offset:2px; }